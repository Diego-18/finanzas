(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{449:function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return d});var i=n(4),r=n(0),a=n.n(r),o=n(5),c=n(21),s=n(19);function l(){var e=Object(i.a)(["\n  display: inline-block;\n  margin-right: 8px;\n"]);return l=function(){return e},e}function u(){var e=Object(i.a)(["\n  ",";\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  padding: 4px 20px;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 24px;\n  background-color: ",";\n  color: ",";\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"]);return u=function(){return e},e}var p=Object(o.a)("button")(u(),c.d,function(e){return e.theme.menu.background},function(e){return e.theme.menu.color},function(e){return e.theme.menu.hover.background},function(e){return e.theme.menu.hover.color}),h=Object(o.a)("span")(l()),d=function(e){var t=e.action,n=e.copy,i=e.icon,r=e.type,o=void 0===r?"line":r,c=e.size,l=void 0===c?"24px":c;return a.a.createElement("li",null,a.a.createElement(p,{onClick:t},i?a.a.createElement(h,null,a.a.createElement(s.a,{name:i,type:o,size:l})):null,n))}},454:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});var i=n(9),r=n(10),a=n(12),o=n(11),c=n(13),s=n(4),l=n(0),u=n.n(l),p=n(449),h=n(5),d=n(42);function m(){var e=Object(s.a)(["\n  ",";\n  list-style-type: none;\n  margin: 0;\n  padding: 10px 0;\n  width: ","px;\n  ","\n"]);return m=function(){return e},e}var f=Object(h.a)("ul")(m(),d.a,function(e){return e.width?e.width:170},function(e){return e.addedStyles}),g=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(a.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).buildMenuItems=function(){if(n.props.menuItems)return n.props.menuItems.map(function(e,t){return u.a.createElement(p.b,{key:t,copy:e.copy,icon:e.icon,action:e.action,type:e.type,size:e.size})})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(f,{width:this.props.width,listMode:this.props.listMode,addedStyles:this.props.addedStyles},this.props.menuItems&&this.buildMenuItems(),this.props.children)}}]),t}(l.Component)},465:function(e,t,n){"use strict";var i=n(9),r=n(10),a=n(12),o=n(11),c=n(13),s=n(0),l=n.n(s),u=n(472),p=n.n(u),h=n(454),d=n(449),m=n(19),f=n(17),g=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(a.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).openWindow=function(e,t,n){var i=t?"&text=".concat(t):"",r="https://bufferapp.com/add?url=".concat(encodeURIComponent(e)).concat(i);Object(f.m)(r,{name:"buffer",height:550,width:750},n)},n.onClick=function(e){e.preventDefault();var t=n.props,i=t.url,r=t.text,a=t.onShareWindowClose;n.openWindow(i,r,a)},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("span",{onClick:this.onClick},this.props.children)}}]),t}(s.Component),b=n(585),v=n(586),O=n(587),j=n(588),x=n(589),y=function(e){function t(){return Object(i.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(b.a,{onShareWindowClose:function(){return e.props.onSocialShare("facebook")},quote:this.props.quote||"",url:this.props.url},l.a.createElement(d.c,null,l.a.createElement(d.a,null,l.a.createElement(m.a,{name:"Facebook",type:"solid",size:"24px"})),"Facebook"))),l.a.createElement("li",null,l.a.createElement(v.a,{onShareWindowClose:function(){return e.props.onSocialShare("twitter")},url:this.props.url},l.a.createElement(d.c,null,l.a.createElement(d.a,null,l.a.createElement(m.a,{name:"Twitter",type:"solid",size:"24px"})),"Twitter"))),l.a.createElement("li",null,l.a.createElement(O.a,{onShareWindowClose:function(){return e.props.onSocialShare("linkedin")},description:this.props.quote||"",url:this.props.url},l.a.createElement(d.c,null,l.a.createElement(d.a,null,l.a.createElement(m.a,{name:"LinkedIn",type:"solid",size:"24px"})),"LinkedIn"))),l.a.createElement("li",null,l.a.createElement(j.a,{onShareWindowClose:function(){return e.props.onSocialShare("reddit")},url:this.props.url},l.a.createElement(d.c,null,l.a.createElement(d.a,null,l.a.createElement(m.a,{name:"Reddit",type:"solid",size:"24px"})),"Reddit"))),l.a.createElement("li",null,l.a.createElement(x.a,{onShareWindowClose:function(){return e.props.onSocialShare("tumblr")},caption:this.props.quote||"",url:this.props.url},l.a.createElement(d.c,null,l.a.createElement(d.a,null,l.a.createElement(m.a,{name:"Tumblr",type:"solid",size:"24px"})),"Tumblr"))),l.a.createElement("li",null,l.a.createElement(g,{onShareWindowClose:function(){return e.props.onSocialShare("buffer")},text:this.props.quote||"",url:this.props.url},l.a.createElement(d.c,null,l.a.createElement(d.a,null,l.a.createElement(m.a,{name:"Buffer",type:"solid",size:"24px"})),"Buffer"))))}}]),t}(s.Component),E=n(7);n.d(t,"a",function(){return w});var k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(a.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={copied:!1},n.copyLink=function(){var e=n.props,t=e.url,i=e.quote,r=i?"".concat(i," [").concat(t,"]"):t;p()(r).then(n.setCopied)},n.setCopied=function(){n.setState({copied:!0})},n.sendToRecommend=function(){return n.props.shareItem("recommend")},n.sendToFriend=function(){return n.props.shareItem()},n.onSocialShare=function(e){return n.props.socialShare(e)},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,{menuItems:this.menuItems,width:200,listMode:this.props.listMode,addedStyles:this.props.addedStyles},l.a.createElement(y,{url:this.props.url,onSocialShare:this.onSocialShare,quote:this.props.quote}))}},{key:"articleIcons",get:function(){var e=this,t=this.props.translate;return[{icon:"CopyLink",copy:this.state.copied?t("shareMenu.copied"):t("shareMenu.copy"),action:function(){return e.copyLink()}},{icon:"Recommend",copy:t("shareMenu.recommend"),action:function(){return e.sendToRecommend()}},{icon:"Profile",copy:t("shareMenu.sendToFriend"),action:function(){return e.sendToFriend()}},{icon:"Article",copy:t("shareMenu.permanentCopy"),action:function(){return window.open(Object(f.o)(e.props.item_id),"_blank")},isPremium:!0},{icon:"WebView",copy:t("shareMenu.viewOriginal"),type:"solid",action:function(){return window.open(Object(f.p)(e.props.url),"_blank")}}]}},{key:"menuItems",get:function(){return Object(f.d)(this.props.isPremium)?this.articleIcons:this.articleIcons.filter(function(e){return!e.isPremium})}}]),t}(s.Component),w=Object(E.d)(k)},492:function(e,t,n){"use strict";var i=n(9),r=n(10),a=n(12),o=n(11),c=n(13),s=n(4),l=n(0),u=n.n(l),p=n(83),h=n(5),d=n(42),m=n(7);function f(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  list-style-type: none;\n  margin: 0;\n  padding: 1em 1.7em;\n  padding-left: 1.4em;\n  border-radius: 4px;\n"]);return f=function(){return e},e}function g(){var e=Object(s.a)(["\n  ",";\n  position: absolute;\n  top: 180%;\n  right: 0;\n"]);return g=function(){return e},e}var b=Object(h.a)("div")(g(),d.a),v=Object(h.a)("ul")(f()),O=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(a.a)(this,Object(o.a)(t).call(this,e))).onHover=function(){clearTimeout(n.hoverTimer),n.setState({hover:!0})},n.offHover=function(){n.hoverTimer=setTimeout(function(){n.setState({hover:!1})},250)},n.state={hover:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.tags.length;return u.a.createElement(p.f,{onMouseOver:this.onHover,onMouseOut:this.offHover},u.a.createElement(m.b,{id:"reader.tagging.tagOverflow",data:{overFlowCount:e}},"+",e," more"),this.state.hover&&u.a.createElement(b,{onMouseOut:this.onOut,onMouseOver:this.onOver},u.a.createElement(v,null,this.props.tags.map(function(e,t){return u.a.createElement(p.f,{key:e+t},e)}))))}}]),t}(l.Component),j=Object(m.d)(O),x=n(17),y=n(37);function E(){var e=Object(s.a)(["\n  margin: 0;\n  display: block;\n  a {\n    text-decoration: none;\n  }\n"]);return E=function(){return e},e}n.d(t,"a",function(){return w});var k=Object(h.a)("div")(E()),w=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(a.a)(this,Object(o.a)(t).call(this,e))).overflowTagList=function(){var e=n.state,t=e.tags,i=e.slicePoint,r=t.length+i;r&&n.setState({list:t.slice(0,r),overFlow:t.slice(i),slicePoint:i-1})},n.state={tags:n.props.tags,list:n.props.tags,overFlow:[],slicePoint:-1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.isWordWrapped&&this.overflowTagList()}},{key:"componentDidUpdate",value:function(e,t){t.tags!==this.props.tags&&this.setState({tags:this.props.tags,list:this.props.tags,overFlow:[]}),t.tags===this.state.tags&&t.overFlow===this.state.overFlow||this.isWordWrapped&&this.overflowTagList()}},{key:"render",value:function(){var e=this,t=this.state.overFlow.length;return this.props.tags&&this.state.tags?u.a.createElement(k,{ref:function(t){return e.listContainer=t}},Object.keys(this.state.list).map(function(e){var t=Object(x.k)(e);return u.a.createElement(y.b,{to:"/tags/".concat(t),key:t},u.a.createElement(p.f,{margin:"0 4px",action:"true"},e))}),t>0&&u.a.createElement(j,{tags:this.state.overFlow})):null}},{key:"isWordWrapped",get:function(){if(!this.props.tags)return!1;var e=window.getComputedStyle(this.listContainer).getPropertyValue("font-size"),t=parseFloat(e);return this.maxHeight=Math.ceil(2*t+.25*t),this.listContainer.offsetHeight>this.maxHeight}}]),t}(l.Component)},592:function(e,t,n){"use strict";n.r(t);var i=n(6),r=n(16),a=n(9),o=n(10),c=n(12),s=n(11),l=n(13),u=n(0),p=n.n(u),h=n(29),d=n(33),m=n(112),f=n(71),g=n(74),b=n(4),v=n(5),O=n(571),j=n.n(O),x=n(22),y=n(21),E=n(8),k=n(7);function w(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"]);return w=function(){return e},e}function S(){var e=Object(b.a)(["\n  display: block;\n  width: 100%;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  transform: translateY(60px);\n  transition: transform 350ms ease-in-out;\n  font-size: 16px;\n  font-weight: 400;\n"]);return S=function(){return e},e}var _=Object(v.a)("div")(S(),E.A.navBar),C=Object(v.a)("div")(w()),A=function(e){return e.topics.map(function(e,t){var n=e.name,i=e.url;return p.a.createElement(y.a,{type:"open",key:t,href:i,margin:"0 0 0 20px "},n)})},z=Object(k.d)(function(e){var t=e.domain,n=t.name,i=t.url;return p.a.createElement("div",null,p.a.createElement(k.b,{id:"reader.explore.exploreBest"},"Explore the best from:"),p.a.createElement(y.a,{type:"open",href:i,margin:"0 0 0 20px "},n))}),T=Object(k.d)(function(e){var t=e.topics;return p.a.createElement("div",null,p.a.createElement(k.b,{id:"reader.explore.readMore"},"Read more about:"),p.a.createElement(A,{topics:t}))}),I=function(e){var t=e.show,n=e.list;if(!n)return null;var i=n.topics,r=n.domain;return i&&i.length>0||r?p.a.createElement(_,{style:{transform:t?"translateY(0)":"translateY(60px)"}},p.a.createElement(x.e,null,p.a.createElement(x.h,null,p.a.createElement(C,null,i.length>0&&p.a.createElement(T,{topics:i}),r&&p.a.createElement(z,{domain:r}))))):null};function H(){var e=Object(b.a)(["\n  display: block;\n  width: 100%;\n  height: 2px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: ",";\n  & > div {\n    background-color: ",";\n    height: 2px;\n    width: 100%;\n    transition: transform 100ms linear;\n  }\n"]);return H=function(){return e},e}var P=Object(v.a)("div")(H(),E.A.progressBar,function(e){return e.theme.progressBar.background}),M=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.percentage,n=void 0===t?0:t,i=e.noScroll,r=void 0!==i&&i?0:n;return p.a.createElement(P,null,p.a.createElement("div",{style:{transform:"translateX(".concat(r-100,"%)")}}))}}]),t}(p.a.Component),L=n(54),R=n(465);function N(){var e=Object(b.a)(["\n  text-align: left;\n"]);return N=function(){return e},e}var F=Object(v.a)("div")(N()),D=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return p.a.createElement(x.b,null,p.a.createElement(L.b,{activateOnClick:!0},p.a.createElement(L.c,null,p.a.createElement(x.a,{icon:"IOSShare",tooltip:"Share",margin:this.props.iconMargin})),p.a.createElement(L.a,null,p.a.createElement(F,null,p.a.createElement(R.a,{item_id:this.props.item_id,url:this.props.url,isPremium:this.props.isPremium,shareItem:this.props.shareItem,socialShare:this.props.socialShare})))))}}]),t}(u.Component),V=n(19),W=n(101);function B(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  align-content: center;\n  padding: 0 20px;\n"]);return B=function(){return e},e}function q(){var e=Object(b.a)(["\n  ",";\n  display: block;\n  cursor: ",";\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n  ",";\n"]);return q=function(){return e},e}function U(){var e=Object(b.a)(["\n  ",";\n  &[data-tooltip] {\n    cursor: initial;\n  }\n"]);return U=function(){return e},e}var Y=Object(v.a)("div")(U(),W.a),X=Object(v.a)("button")(q(),y.d,function(e){return e.active?"pointer":"initial"},function(e){return e.active?e.theme.settings.text.color:e.theme.settings.text.inactive},function(e){return e.active?e.theme.settings.text.hover:e.theme.settings.text.inactive},W.a),G=Object(v.a)("div")(B());var $=Object(k.d)(function(e){var t=e.current,n=e.clickAction,i=e.translate,r=E.i,a=function(){return t<r.length-1},o=function(){return t>0};return p.a.createElement(G,null,p.a.createElement(X,{active:o(),onClick:function(){o()&&n(t-1)},"data-tooltip":i("reader.displaySettings.minusSize")},p.a.createElement(V.a,{name:"Minus",type:"mini",size:"12px"})),p.a.createElement(Y,{"data-tooltip":"".concat(E.i[t],"em")},p.a.createElement(V.a,{name:"TextSize",type:"solid",size:"24px"})),p.a.createElement(X,{active:a(),onClick:function(){a()&&n(t+1)},"data-tooltip":i("reader.displaySettings.plusSize")},p.a.createElement(V.a,{name:"Plus",type:"mini",size:"12px"})))});function J(){var e=Object(b.a)(["\n  ",";\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 15px 5px;\n  text-align: left;\n  line-height: 24px;\n  cursor: pointer;\n  color: ",";\n  span {\n    color: ",";\n    display: inline-block;\n    padding-right: 10px;\n  }\n  &:hover {\n    color: ",";\n  }\n  border-top: 1px solid ",";\n"]);return J=function(){return e},e}function K(){var e=Object(b.a)(["\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 14px;\n  text-transform: uppercase;\n  padding: 20px;\n  color: ",";\n  position: relative;\n  button {\n    ",";\n    cursor: pointer;\n    display: block;\n    position: absolute;\n    top: 16px;\n    left: 0;\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(b.a)(["\n  width: 260px;\n  box-sizing: border-box;\n  padding: 20px;\n"]);return Q=function(){return e},e}var Z=Object(v.a)("div")(Q()),ee=Object(v.a)("div")(K(),function(e){return e.theme.settings.text.header},y.d),te=Object(v.a)("button")(J(),y.d,function(e){return e.theme.settings.text.color},function(e){return e.theme.settings.premium.color},function(e){return e.theme.settings.text.hover},function(e){return e.theme.body.border});var ne=function(e){var t=e.fontType,n=e.clickAction,i=e.toggleFontSelector,r=e.isPremium;return p.a.createElement(Z,null,p.a.createElement(ee,null,p.a.createElement("button",{onClick:i},p.a.createElement(V.a,{name:"BackChevron",type:"line",size:"24px"})),"Custom Fonts"),Object.keys(E.j).map(function(e){var i=E.j[e].premium&&!r,a=t===e,o=a?"active":null;return p.a.createElement(te,{key:e,className:o,onClick:function(){return n(e)}},p.a.createElement("div",null,i?p.a.createElement("span",null,p.a.createElement(V.a,{name:"Premium",type:"line",size:"24px"})):null,p.a.createElement("svg",{style:{display:"inline-block",position:"relative",fill:"currentColor",height:"24px",width:"120px"}},p.a.createElement("use",{href:"/symbols/fonts.symbols-d30c8725.svg#".concat(E.j[e].selector)}))),a?p.a.createElement("div",null,p.a.createElement(V.a,{name:"Check",type:"mini",size:"16px"})):null)}))};function ie(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  align-content: center;\n  height: 76px;\n  padding: 0 20px;\n"]);return ie=function(){return e},e}function re(){var e=Object(b.a)(["\n  ",";\n  display: block;\n  cursor: ",";\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n  ",";\n"]);return re=function(){return e},e}var ae=Object(v.a)("button")(re(),y.d,function(e){return e.active?"pointer":"initial"},function(e){return e.active?e.theme.settings.text.color:e.theme.settings.text.inactive},function(e){return e.active?e.theme.settings.text.hover:e.theme.settings.text.inactive},W.a),oe=Object(v.a)("div")(ie());var ce=Object(k.d)(function(e){var t=e.current,n=e.clickAction,i=e.translate,r=E.q,a=function(){return t<=r[r.length-1]},o=function(){return t>r[0]};return p.a.createElement(oe,null,p.a.createElement(ae,{active:o(),onClick:function(){o()&&n(t-1)},"data-tooltip":i("reader.displaySettings.minusMargin")},p.a.createElement(V.a,{name:"Minus",type:"mini",size:"12px"})),p.a.createElement(V.a,{name:"Margins",type:"line",size:"24px"}),p.a.createElement(ae,{active:a(),onClick:function(){a()&&n(t+1)},"data-tooltip":i("reader.displaySettings.plusMargin")},p.a.createElement(V.a,{name:"Plus",type:"mini",size:"12px"})))});function se(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  align-content: center;\n  height: 76px;\n  padding: 0 20px;\n"]);return se=function(){return e},e}function le(){var e=Object(b.a)(["\n  ",";\n  display: block;\n  cursor: ",";\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n  ",";\n"]);return le=function(){return e},e}var ue=Object(v.a)("button")(le(),y.d,function(e){return e.active?"pointer":"initial"},function(e){return e.active?e.theme.settings.text.color:e.theme.settings.text.inactive},function(e){return e.active?e.theme.settings.text.hover:e.theme.settings.text.inactive},W.a),pe=Object(v.a)("div")(se());var he=Object(k.d)(function(e){var t=e.current,n=e.clickAction,i=e.translate,r=E.l,a=function(){return t<r.length-1},o=function(){return t>0};return p.a.createElement(pe,null,p.a.createElement(ue,{active:o(),onClick:function(){o()&&n(t-1)},"data-tooltip":i("reader.displaySettings.minusLineHeight")},p.a.createElement(V.a,{name:"Minus",type:"mini",size:"12px"})),p.a.createElement(V.a,{name:"LetterSpacing",type:"line",size:"24px"}),p.a.createElement(ue,{active:a(),onClick:function(){a()&&n(t+1)},"data-tooltip":i("reader.displaySettings.plusLineHeight")},p.a.createElement(V.a,{name:"Plus",type:"mini",size:"12px"})))}),de=n(193);function me(){var e=Object(b.a)(["\n  grid-column: 1/-1;\n  a {\n    text-align: center;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 24px;\n    display: block;\n    padding: 20px 0;\n    color: ",";\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return me=function(){return e},e}function fe(){var e=Object(b.a)(["\n  grid-column: 1/-1;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  align-content: center;\n"]);return fe=function(){return e},e}function ge(){var e=Object(b.a)(["\n  grid-column: 1/-1;\n  background: ",";\n  margin: 0 20px;\n"]);return ge=function(){return e},e}function be(){var e=Object(b.a)(["\n  background-color: ",";\n  margin: 20px 0 15px;\n"]);return be=function(){return e},e}function ve(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  width: 100%;\n  div {\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n    padding: 0 20px;\n    cursor: pointer;\n    ",";\n  }\n"]);return ve=function(){return e},e}function Oe(){var e=Object(b.a)(["\n  cursor: pointer;\n  color: ",";\n  &:hover {\n    ",";\n  }\n  ",";\n"]);return Oe=function(){return e},e}function je(){var e=Object(b.a)(["\n  width: 280px;\n  box-sizing: border-box;\n  padding: 0;\n  display: grid;\n  grid-template-columns: 140px 1px 139px;\n  grid-template-rows: 76px 1px 84px 1px auto;\n"]);return je=function(){return e},e}var xe=Object(v.a)("div")(je()),ye=Object(v.a)("div")(Oe(),function(e){return e.theme.navBar.action.color},function(e){return e.theme.navBar.action.hover},W.a),Ee=Object(v.a)("div")(ve(),W.a),ke=Object(v.a)("div")(be(),function(e){return e.theme.settings.border}),we=Object(v.a)("div")(ge(),function(e){return e.theme.settings.border}),Se=Object(v.a)("div")(fe()),_e=Object(v.a)("div")(me(),function(e){return e.theme.settings.premium.color},function(e){return e.theme.settings.premium.hover}),Ce=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={displayFonts:!1},n.toggleFontSelector=function(){n.setState(function(e){return{displayFonts:!e.displayFonts}})},n.closeFontSelector=function(){n.setState({displayFonts:!1})},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.translate;return p.a.createElement(x.b,null,p.a.createElement(L.b,{persist:!0,activateOnClick:!0,onClose:this.closeFontSelector},p.a.createElement(L.c,null,p.a.createElement(ye,{"data-tooltip":e("reader.topNav.displaySettings")},p.a.createElement(V.a,{name:"TextStyle",type:"solid",size:"24px",margin:"0 10px 0 0"}),p.a.createElement(V.a,{type:"mini",name:"DownChevron",size:"12px",margin:"0"}))),p.a.createElement(L.a,null,this.state.displayFonts?p.a.createElement(ne,{toggleFontSelector:this.toggleFontSelector,fontType:this.props.fontType,clickAction:this.props.fontTypeChange,isPremium:this.props.isPremium}):p.a.createElement(xe,null,p.a.createElement(Ee,{onClick:this.toggleFontSelector},p.a.createElement("div",{"data-tooltip":e("reader.topNav.fontOptions")},E.j[this.props.fontType].name,p.a.createElement(x.a,{type:"line",icon:"ForwardChevron",size:"12px",margin:"0"}))),p.a.createElement(ke,null),p.a.createElement($,{current:this.props.fontSize,clickAction:this.props.fontSizeChange}),p.a.createElement(we,null),p.a.createElement(Se,null,p.a.createElement(de.a,{selectSize:48,buttonSize:36,clickAction:this.props.themeChange,activeTheme:this.props.activeTheme})),p.a.createElement(we,null),this.props.isPremium?p.a.createElement(p.a.Fragment,null,p.a.createElement(he,{current:this.props.lineHeight,clickAction:this.props.lineHeightChange}),p.a.createElement(ke,null),p.a.createElement(ce,{current:this.props.margin,clickAction:this.props.marginChange})):p.a.createElement(_e,null,p.a.createElement("a",{href:"".concat(E.v).concat(E.t.DISPLAY),target:"_blank"},p.a.createElement(V.a,{name:"Premium",type:"line",size:"24px",margin:"0 8px 0 0"})," ","Unlock more options"))))))}}]),t}(u.Component),Ae=Object(k.d)(Ce),ze=n(17),Te=n(103);function Ie(){var e=Object(b.a)(["\n  cursor: pointer;\n"]);return Ie=function(){return e},e}function He(){var e=Object(b.a)(["\n  grid-template-columns: 50px auto 50px;\n"]);return He=function(){return e},e}function Pe(){var e=Object(b.a)(["\n  grid-template-columns: 80px auto 80px;\n"]);return Pe=function(){return e},e}var Me=E.a.UI,Le=E.a.VIEW,Re=Object(v.a)(x.h)(Pe()),Ne=Object(v.a)(x.h)(He()),Fe=Object(v.a)("div")(Ie()),De=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).clickBack=function(){n.props.readerSetExitMethod({item_id:n.props.item_id,ui:"back"}),n.props.readerGoBack()},n.reAdd=function(){var e;return n.props.itemsReAdd({items:Object(r.a)({},n.props.item_id,!1),analytics:(e={},Object(r.a)(e,Me,"toolbar"),Object(r.a)(e,Le,"reader"),e)})},n.archive=function(){var e;return n.props.itemsArchive({items:Object(r.a)({},n.props.item_id,!1),analytics:(e={},Object(r.a)(e,Me,"toolbar"),Object(r.a)(e,Le,"reader"),e)})},n.favorite=function(){var e;return n.props.itemsFavorite({items:Object(r.a)({},n.props.item_id,!1),analytics:(e={},Object(r.a)(e,Me,"toolbar"),Object(r.a)(e,Le,"reader"),e)})},n.unfavorite=function(){var e;return n.props.itemsUnfavorite({items:Object(r.a)({},n.props.item_id,!1),analytics:(e={},Object(r.a)(e,Me,"toolbar"),Object(r.a)(e,Le,"reader"),e)})},n.delete=function(){var e;return n.props.itemsDelete({items:Object(r.a)({},n.props.item_id,!1),analytics:(e={},Object(r.a)(e,Me,"toolbar"),Object(r.a)(e,Le,"reader"),e)})},n.tagging=function(){var e;return n.props.itemsTagging({items:Object(r.a)({},n.props.item_id,!1),analytics:(e={},Object(r.a)(e,Me,"toolbar"),Object(r.a)(e,Le,"reader"),e)})},n.addOrArchive=function(){Object(ze.d)(n.props.isArchived)?n.reAdd():n.archive()},n.toggleFavorite=function(){Object(ze.d)(n.props.favorite)?n.unfavorite():n.favorite()},n.share=function(e){n.props.shareItem({item_id:n.props.item_id,recommend:e,recent_friends:n.props.recent_friends})},n.shareSocial=function(e){var t;n.props.socialShare({item_id:n.props.item_id,analytics:(t={},Object(r.a)(t,Me,"toolbar"),Object(r.a)(t,Le,"reader"),t),service:e})},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.favorite,n=e.SIDEBAR_WIDTH,i=e.translate,r=n,a=r?Re:Ne,o=r?"0 1.1em":"0 0.4em";return p.a.createElement(x.g,null,p.a.createElement(M,{percentage:this.props.scrollPercentage}),p.a.createElement(a,{reader:!0},p.a.createElement(x.c,null,p.a.createElement(Fe,{onClick:this.clickBack},p.a.createElement(x.a,{icon:"BackArrow",type:"line",tooltip:"Go Back"}),r?"Back":null)),p.a.createElement(x.c,{style:{justifyContent:"center"}},p.a.createElement(x.a,{icon:"AddTags",action:this.tagging,tooltip:i("reader.topNav.tagging"),margin:o}),p.a.createElement(x.a,{type:Object(ze.d)(t)?"solid":"line",icon:"Favorite",action:this.toggleFavorite,tooltip:i("reader.topNav.favorite"),favorite:Object(ze.d)(t),margin:o}),p.a.createElement(x.a,{type:"line",icon:this.archiveState,action:this.addOrArchive,tooltip:Object(ze.d)(this.props.isArchived)?i("reader.topNav.reAdd"):i("reader.topNav.archive"),margin:o}),p.a.createElement(x.a,{type:"line",icon:"Delete",action:this.delete,tooltip:i("reader.topNav.delete"),margin:o}),p.a.createElement(D,{url:this.props.resolved_url,iconMargin:o,shareItem:this.share,socialShare:this.shareSocial,item_id:this.props.item_id,isPremium:this.props.isPremium})),p.a.createElement(x.d,null,p.a.createElement(Ae,{fontRange:this.props.fontRange,fontSize:this.props.fontSize,fontType:this.props.fontType,fontTypeChange:this.props.fontTypeChange,fontSizeChange:this.props.fontSizeChange,marginChange:this.props.marginChange,margin:this.props.margin,lineHeightChange:this.props.lineHeightChange,lineHeight:this.props.lineHeight,themeChange:this.props.themeChange,activeTheme:this.props.theme,isPremium:this.props.isPremium}))))}},{key:"archiveState",get:function(){return Object(ze.d)(this.props.isArchived)?"ReAdd":"Archive"}}]),t}(u.Component),Ve=Object(k.d)(Object(Te.a)(De)),We=n(70),Be=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.avatar,n=e.itemAdd,i=e.itemsArchive,r=e.itemsReAdd,a=e.itemsFavorite,o=e.itemsUnfavorite,c=e.itemsDelete,s=e.itemsTagging,l=e.itemDetails,u=e.toggleTaggingDisplay,h=e.shareItem,d=e.socialShare,m=e.appNavigate,f=e.fontRange,g=e.fontSize,b=e.fontType,v=e.fontTypeChange,O=e.fontSizeChange,j=e.marginChange,x=e.margin,y=e.lineHeightChange,E=e.lineHeight,k=e.themeChange,w=e.resolved_title,S=e.item_id,_=e.recent_friends,C=e.sizes,A=e.readerSetExitMethod,z=e.readerGoBack,T=e.scrollPercentage,I=e.isPremium,H=e.theme;return l?p.a.createElement(Ve,{item_id:S,appNavigate:m,avatar:t,itemAdd:n,itemsArchive:i,itemsReAdd:r,itemsFavorite:a,itemsUnfavorite:o,itemsDelete:c,itemsTagging:s,toggleTaggingDisplay:u,shareItem:h,socialShare:d,fontRange:f,fontSize:g,fontType:b,fontTypeChange:v,fontSizeChange:O,marginChange:j,margin:x,lineHeightChange:y,lineHeight:E,themeChange:k,theme:H,favorite:l.favorite,isArchived:l.status,resolved_title:w,resolved_url:l.resolved_url,recent_friends:_,itemDetails:l,sizes:C,readerGoBack:z,readerSetExitMethod:A,scrollPercentage:T,isPremium:I}):null}}]),t}(u.Component);var qe=Object(d.c)(function(e,t){var n=t.item_id;return{item_id:n,isPremium:Object(ze.d)(e.app.isPremium),itemDetails:e.items[n],margin:e.options.margin,lineHeight:e.options.lineHeight,fontSize:e.options.fontSize,fontRange:e.options.fontRange,fontType:e.options.fontType,theme:e.options.theme}},function(e){return Object(h.b)(Object(i.a)({},f.a,We.b,m.a),e)})(Be),Ue=n(42),Ye=n(39);function Xe(){var e=Object(b.a)(["\n  padding-right: 25px;\n"]);return Xe=function(){return e},e}function Ge(){var e=Object(b.a)(["\n  color: ",";\n  margin-right: 8px;\n"]);return Ge=function(){return e},e}function $e(){var e=Object(b.a)(["\n  ",";\n  position: fixed;\n  top: 103px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 20px;\n  z-index: ",";\n  font-size: 14px;\n\n  align-content: center;\n  align-items: center;\n  grid-template-columns: 48px auto;\n  grid-row-gap: 2em;\n  grid-column-gap: 0;\n  ",";\n  h5 {\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    margin: 0 0 5px;\n  }\n  p {\n    margin: 0;\n  }\n  .cta {\n    grid-column: 1/-1;\n    ",";\n    a {\n      ",";\n    }\n  }\n"]);return $e=function(){return e},e}var Je=Object(Ye.a)(E.d.map(function(e){return"@media (min-width: ".concat(e,"px)")})),Ke=Object(v.a)("div")($e(),Ue.a,E.A.upsell,Je({display:["grid","flex"],width:["90%","595px"],justifyContent:["initial","space-between"]}),Je({textAlign:["center","right"]}),Je({width:["100%","initial"]})),Qe=Object(v.a)("div")(Ge(),function(e){return e.theme.settings.premium.color}),Ze=Object(v.a)("div")(Xe()),et=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return p.a.createElement(Ke,{maxWidth:this.props.maxWidth},p.a.createElement(Qe,null,p.a.createElement(V.a,{name:"Premium",type:"line",size:"24px",margin:"0 8px 0 0"})),p.a.createElement(Ze,null,p.a.createElement("h5",null,"You are previewing the premium font ",this.props.fontFamily,"."),p.a.createElement("p",null,"Get access to all fonts and more by upgrading to Premium.")),p.a.createElement("div",{className:"cta"},p.a.createElement(y.b,{href:"".concat(E.v).concat(E.t.FONT),target:"_blank",type:"cta"},"Upgrade")))}}]),t}(u.Component),tt=n(173),nt=n(45),it=n(492);function rt(){var e=Object(b.a)(["\n  padding: 0 0 20px;\n"]);return rt=function(){return e},e}function at(){var e=Object(b.a)(["\n  font-weight: 400;\n  color: ",";\n"]);return at=function(){return e},e}function ot(){var e=Object(b.a)(["\n  display: block;\n  font-size: 0.75em;\n  line-height: 1;\n  padding-bottom: 0.75em;\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    color: ",";\n    text-decoration: underline;\n  }\n"]);return ot=function(){return e},e}function ct(){var e=Object(b.a)(["\n  text-align: center;\n"]);return ct=function(){return e},e}function st(){var e=Object(b.a)(["\n  position: relative;\n  display: inline-block;\n  margin-left: 0.4em;\n  &:before {\n    position: relative;\n    font-size: 0.5em;\n    content: '\u2022';\n    margin-right: 0.7em;\n    top: -0.3em;\n  }\n"]);return st=function(){return e},e}function lt(){var e=Object(b.a)(["\n  position: relative;\n  display: inline-block;\n  margin-left: 0.4em;\n"]);return lt=function(){return e},e}function ut(){var e=Object(b.a)(["\n  position: relative;\n  display: inline-block;\n  &:after {\n    position: relative;\n    font-size: 0.5em;\n    content: '\u2022';\n    margin-left: 0.7em;\n    top: -0.3em;\n  }\n"]);return ut=function(){return e},e}function pt(){var e=Object(b.a)(["\n  display: inline-block;\n"]);return pt=function(){return e},e}function ht(){var e=Object(b.a)(["\n  color: ",";\n  display: block;\n  text-align: center;\n  font-weight: 300;\n  font-size: 0.75em;\n  line-height: 1;\n  padding-bottom: 1em;\n"]);return ht=function(){return e},e}function dt(){var e=Object(b.a)(["\n  font-size: 1.667em;\n  font-weight: 500;\n  text-align: center;\n  line-height: 1.2;\n  padding-bottom: 0.625em;\n  margin: 0;\n  color: ",";\n"]);return dt=function(){return e},e}function mt(){var e=Object(b.a)(["\n  font-family: ",";\n  padding: 0 40px 1em;\n  line-height: ",";\n"]);return mt=function(){return e},e}var ft=Object(v.a)("header")(mt(),E.h.sans.family,function(e){return e.lineHeight}),gt=Object(v.a)("h1")(dt(),function(e){return e.theme.article.header}),bt=Object(v.a)("div")(ht(),function(e){return e.theme.article.subHeader}),vt=Object(v.a)("div")(pt()),Ot=Object(v.a)("div")(ut()),jt=Object(v.a)("div")(lt()),xt=Object(v.a)("div")(st()),yt=Object(v.a)("div")(ct()),Et=Object(v.a)("a")(ot(),function(e){return e.theme.body.link.color},function(e){return e.theme.body.link.hover}),kt=Object(v.a)("span")(at(),function(e){return e.theme.article.subHeader}),wt=Object(v.a)("div")(rt());var St=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.item,t=e.authors,n=e.given_title,i=e.resolved_title,r=e.resolved_url,a=e.given_url,o=e.tags,c=e.has_video,s={word_count:e.word_count,has_video:c,videos:e.videos},l=function(e){if(e)return Object.keys(e).map(function(t){var n=e[t];return p.a.createElement(kt,{key:t},n.name)})}(t),u=Object(ze.c)(r),h=Object(ze.g)(s,!0);return p.a.createElement(ft,{lineHeight:this.props.lineHeight},p.a.createElement(gt,null,i||n),p.a.createElement(bt,null,p.a.createElement(vt,null,p.a.createElement(k.b,{id:"reader.header.by"},"By"))," ",l?p.a.createElement(Ot,null,l):null,u&&p.a.createElement(jt,null,u),h&&p.a.createElement(xt,null,h)),p.a.createElement(yt,null,p.a.createElement(Et,{href:Object(ze.p)(a),target:"_blank"},p.a.createElement(k.b,{id:"reader.header.viewOriginal"},"View Original")),o&&p.a.createElement(wt,null,p.a.createElement(it.a,{tags:o}))))}}]),t}(p.a.Component),_t=Object(k.d)(St),Ct=n(576),At=n.n(Ct);function zt(e){var t=e.imageObject,n=t.caption,i=t.credit,r=t.image_id,a=e.imageSource,o=At.a.sanitize(n),c=At.a.sanitize(n),s=n.length?"<figcaption>".concat(o,"</figcaption>"):"",l=i.length&&o!==c?"<cite>photo by: ".concat(c,"</cite>"):"";return Promise.resolve({imageId:r,markup:"\n        <figure>\n          <img src='".concat(a,"' alt='").concat(o,"'/>\n          ").concat(s,"\n          ").concat(l,"\n        </figure>\n      ")})}function Tt(e){var t=document.getElementById("RIL_IMG_".concat(e.imageId));t&&(t.innerHTML=e.markup)}function It(e){e&&Object.keys(e).map(function(t){return function(e){var t=e.src,n=Object(ze.f)(t);return new Promise(function(t,i){var r=new Image;r.onload=function(){return t({imageObject:e,imageSource:n})},r.onerror=function(){return i({error:"Image failed to load",imageObject:e})},r.src=n})}(e[t]).then(zt).then(Tt).catch(function(n){!function(e){var t=e.error,n=e.imageObject;n&&Tt({error:t,imageId:n.image_id,markup:""})}(n,e[t])})})}var Ht=n(95),Pt=n.n(Ht),Mt=n(577),Lt=n.n(Mt);function Rt(){var e=Object(b.a)(["\n  position: relative;\n  padding-top: 56.25%;\n  .player {\n    position: absolute;\n    top: 0;\n    left: 0;\n    border-radius: 8px;\n    overflow: hidden;\n  }\n"]);return Rt=function(){return e},e}var Nt=Object(v.a)("div")(Rt()),Ft=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.videoData.src.replace("play_redirect?clip_id=","").replace("&quality=hd","");return p.a.createElement(Nt,null,p.a.createElement(Lt.a,{controls:!0,className:"player",url:e,width:"100%",height:"100%"}))}}]),t}(p.a.Component);function Dt(e){Object.keys(e).map(function(t,n){return function(e){var t=document.getElementById("RIL_VIDEO_".concat(e.video_id));t&&Pt.a.render(p.a.createElement(Ft,{videoData:e,video_id:e.video_id}),t)}(e[t])})}var Vt=n(25),Wt=n(454);function Bt(){var e=Object(b.a)(["\n  position: absolute;\n  left: 0;\n  z-index: ",";\n  bottom: 0;\n"]);return Bt=function(){return e},e}function qt(){var e=Object(b.a)(["\n  position: absolute;\n  right: 0;\n  z-index: ",";\n  bottom: 0;\n"]);return qt=function(){return e},e}function Ut(){var e=Object(b.a)(["\n  position: absolute;\n  left: 0;\n  z-index: ",";\n  top: 0;\n"]);return Ut=function(){return e},e}function Yt(){var e=Object(b.a)(["\n  position: absolute;\n  right: 0;\n  z-index: ",";\n  top: 0;\n"]);return Yt=function(){return e},e}function Xt(){var e=Object(b.a)(["\n  font-family: ",";\n"]);return Xt=function(){return e},e}function Gt(){var e=Object(b.a)(["\n  position: absolute;\n  z-index: 2;\n  padding: 10px;\n  top: 0;\n  left: 0;\n  right: ","px;\n  bottom: ","px;\n  transform: translate(","px, ","px);\n  margin-top: -30px;\n  margin-left: -30px;\n  opacity: 0;\n  transition: opacity 200ms ease-in-out 350ms;\n  &.visible,\n  &:hover {\n    opacity: 1;\n    transition: opacity 150ms ease-in-out 0ms;\n  }\n"]);return Gt=function(){return e},e}var $t=E.a.UI,Jt=E.a.VIEW,Kt=Object(v.a)("div")(Gt(),function(e){return e.right},function(e){return e.bottom},function(e){return e.left},function(e){return e.top}),Qt=Object(v.a)("div")(Xt(),E.h.sans.family),Zt=function(e){return Object(Vt.b)(Yt(),E.A.item.menu)},en=function(e){return Object(Vt.b)(Ut(),E.A.item.menu)},tn=function(e){return Object(Vt.b)(qt(),E.A.item.menu)},nn=function(e){return Object(Vt.b)(Bt(),E.A.item.menu)},rn=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.top,n=e.left,i=e.visible;return p.a.createElement(Kt,{top:t,left:n,className:i?"visible":""},p.a.createElement(an,this.props))}}]),t}(u.Component),an=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).isClickOutside=function(e){n.contentNode.contains(e.target)||n.closeMenu()},n.itemHoverOn=function(){clearTimeout(n.timeout),n.setState({hover:!0})},n.itemHoverOff=function(){n.timeout=setTimeout(n.closeMenu,600)},n.menuDirection=function(){var e=n.contentNode.getBoundingClientRect(),t=e.y,i=e.right,r=t>Math.max(document.documentElement.clientHeight,window.innerHeight||0)/2;return i<200?r?nn:en:r?tn:Zt},n.closeMenu=function(){n.state.hover&&n.setState({hover:!1,share:!1})},n.share=function(e){n.props.shareItem(Object(i.a)({item_id:n.props.item_id,recommend:e,quote:n.props.annotation.quote},n.props.item))},n.shareSocial=function(e){var t;n.props.socialShare({item_id:n.props.item_id,analytics:(t={},Object(r.a)(t,Jt,"reader"),Object(r.a)(t,$t,"annotation"),t),service:e})},n.state={share:!1,hover:!1},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.isClickOutside)}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout),document.removeEventListener("mousedown",this.isClickOutside)}},{key:"toggleShare",value:function(){this.setState({share:!0})}},{key:"render",value:function(){var e=this,t=this.state.hover?this.itemHoverOn:null;return p.a.createElement(Qt,{onClick:this.itemHoverOn,onMouseOver:t,onMouseLeave:this.itemHoverOff,ref:function(t){return e.contentNode=t}},this.state.hover?this.state.share?this.shareMenu:this.defaultMenu:null,this.props.children)}},{key:"articleIcons",get:function(){var e=this;return[{icon:"Delete",copy:"Delete",action:function(){return e.props.deleteAnnotation({item_id:e.props.item_id,annotation_id:e.props.annotation_id,analytics:Object(r.a)({},Jt,"reader")})}},{icon:"IOSShare",copy:"Share",action:function(){return e.toggleShare()}}]}},{key:"defaultMenu",get:function(){return p.a.createElement(Wt.a,{menuItems:this.articleIcons,width:200,addedStyles:this.menuDirection()})}},{key:"shareMenu",get:function(){return p.a.createElement(R.a,{url:this.props.item.resolved_url,item_id:this.props.item_id,isPremium:this.props.isPremium,shareItem:this.share,socialShare:this.shareSocial,addedStyles:this.menuDirection(),quote:this.props.annotation.quote})}}]),t}(u.Component);function on(){var e=Object(b.a)(["\n  *::-moz-selection {\n    background-color: "," !important;\n    color: "," !important;\n  }\n  *::selection {\n    background-color: "," !important;\n    color: "," !important;\n  }\n\n  .highlight {\n    position: relative;\n    background-color: ",";\n    color: ",";\n  }\n  a .highlight,\n  a.highlight {\n    text-shadow: -1px -1px 0 ",",\n      1px -1px 0 ",",\n      -1px 1px 0 ",",\n      1px 1px 0 "," !important;\n    background-image: linear-gradient(\n      to top,\n      rgba(0, 0, 0, 0),\n      rgba(0, 0, 0, 0) 1px,\n      "," 1px,\n      "," 2px,\n      rgba(0, 0, 0, 0) 2px\n    );\n  }\n\n  .highlight-preview {\n    background-color: ",";\n    color: ",";\n  }\n  a .highlight-preview,\n  a.highlight-preview {\n    text-shadow: -1px -1px 0 ",",\n      1px -1px 0 ",",\n      -1px 1px 0 ",",\n      1px 1px 0 "," !important;\n    background-image: linear-gradient(\n      to top,\n      rgba(0, 0, 0, 0),\n      rgba(0, 0, 0, 0) 1px,\n      "," 1px,\n      "," 2px,\n      rgba(0, 0, 0, 0) 2px\n    );\n  }\n"]);return on=function(){return e},e}var cn=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).renderMenus=function(){var e=n.props,t=e.annotationList,i=e.annotationHovered,r=[];return Object.keys(t).forEach(function(e,a){var o=t[e].id,c=document.querySelector('[annotation_id="'.concat(o,'"]'));if(c){var s=c.getBoundingClientRect(),l=s.x,u=s.y;r.push(p.a.createElement(rn,{key:a,annotation_id:o,top:Math.round(u+window.pageYOffset),left:l+c.offsetLeft-35,visible:i.id===o,deleteAnnotation:n.props.deleteAnnotation,item_id:n.props.item_id,item:n.props.item,shareItem:n.props.shareItem,socialShare:n.props.socialShare,annotation:n.props.annotations.filter(function(e){return e.annotation_id===o})[0]},p.a.createElement(y.c,{type:"neutral"},p.a.createElement(V.a,{name:"IOSOverflow"}))))}}),r},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return p.a.createElement(p.a.Fragment,null,this.renderMenus())}}]),t}(u.Component);function sn(){var e=Object(b.a)(["\n  ",";\n\n  #RIL_domain,\n  #RIL_header,\n  #RIL_ARTICLE_NOTE {\n    display: none;\n  }\n\n  #RIL_media {\n    text-align: center;\n\n    object,\n    embed,\n    img {\n      margin-bottom: 15px;\n    }\n  }\n\n  h1,\n  h2 {\n    line-height: 1.3em;\n    font-size: 25px;\n    font-size: 1.4em;\n    margin: 0 0px 0.7em 0px;\n  }\n  h3 {\n    line-height: 1.3em;\n    font-size: 1.3em;\n    margin: 0 0px 0.5em 0px;\n  }\n  h4 {\n    line-height: 1.3em;\n    font-size: 1.2em;\n    margin: 0 0px 0.5em 0px;\n  }\n  h5,\n  h6 {\n    font-size: 1.1em;\n    font-weight: bold;\n    margin: 0 0px 0.4em 0px;\n  }\n\n  h3 + .RIL_IMG,\n  h4 + .RIL_IMG,\n  h5 + .RIL_IMG,\n  h6 + .RIL_IMG,\n  h3 + .RIL_VIDEO,\n  h4 + .RIL_VIDEO,\n  h5 + .RIL_VIDEO,\n  h6 + .RIL_VIDEO {\n    margin-top: 1.1em !important;\n  }\n\n  p {\n    margin: 0 0 1em 0px;\n    text-align: left;\n  }\n  .hyphenate *[lang] p,\n  .hyphenate p[lang] {\n    text-align: justify;\n    -webkit-hyphens: auto;\n  }\n  .force_left *[lang] p,\n  .force_left p[lang] {\n    text-align: left;\n  }\n  li {\n    text-align: left;\n  }\n\n  ul,\n  ol {\n    margin: 1.5em 0px 1.5em 2em;\n  }\n  li {\n    margin: 0px 0px 0.4em 0px;\n  }\n  ul ul,\n  ol ol {\n    margin: 0.75em 0 1em 2em;\n    min-width: 250px;\n  }\n\n  p + h2,\n  p + h3,\n  p + h4,\n  p + h5,\n  p + h6 {\n    margin-top: 1.7em;\n  }\n\n  /* spacing of headers of lists */\n  h3 + ul,\n  h3 + ol,\n  h4 + ul,\n  h4 + ol {\n    margin-top: 1.1em;\n  }\n\n  /* spacing of headers of lists */\n  h5 + ul,\n  h5 + ol,\n  h6 + ul,\n  h6 + ol {\n    margin-top: 0.8em;\n  }\n\n  pre,\n  blockquote {\n    display: block;\n    margin: 1.5em 7% 1.5em 7%;\n  }\n\n  pre {\n    box-sizing: border-box;\n    margin: 15px -5%;\n    padding: 10px;\n    font-size: 0.8em;\n    width: 110%;\n    overflow: auto;\n    background-color: ",";\n  }\n\n  /* prevent sup and sub from breaking line-height */\n  sup,\n  sub {\n    vertical-align: baseline;\n    position: relative;\n    top: -0.4em;\n  }\n  sub {\n    top: 0.4em;\n  }\n\n  blockquote,\n  aside {\n    font-style: italic;\n  }\n\n  a {\n    cursor: pointer;\n    color: ",";\n    text-decoration: none;\n    position: relative;\n    text-shadow: -1px -1px 0 ",",\n      1px -1px 0 ",",\n      -1px 1px 0 ",",\n      1px 1px 0 ",";\n    background-image: linear-gradient(\n      to top,\n      rgba(0, 0, 0, 0),\n      rgba(0, 0, 0, 0) 1px,\n      "," 1px,\n      "," 2px,\n      rgba(0, 0, 0, 0) 2px\n    );\n\n    &:hover {\n      color: ",";\n      background-image: linear-gradient(\n        to top,\n        rgba(0, 0, 0, 0),\n        rgba(0, 0, 0, 0) 1px,\n        "," 1px,\n        "," 2px,\n        rgba(0, 0, 0, 0) 2px\n      );\n    }\n  }\n\n  hr {\n    margin: 1em 0px;\n    border: 0px;\n    padding: 0px;\n    height: 1px;\n    background: ",";\n  }\n\n  figure {\n    width: 110%;\n    margin: 0 -5%;\n    padding-bottom: 1.667em;\n\n    figcaption {\n      width: 100%;\n      box-sizing: border-box;\n      padding: 1.25em 0 0;\n      font-size: 0.583em;\n      line-height: 1.643;\n      color: ",";\n    }\n  }\n\n  .RIL_IMG {\n    position: relative;\n    margin: 0;\n    text-align: center;\n\n    &:after {\n      content: '.';\n      display: block;\n      height: 0;\n      clear: both;\n      visibility: hidden;\n    }\n\n    img {\n      max-width: 100%;\n      border-radius: 8px;\n      margin: 0 auto;\n    }\n    cite {\n      width: 100%;\n      box-sizing: border-box;\n      display: none;\n      clear: both;\n    }\n\n    a {\n      display: block;\n      margin: 0px auto;\n      border: 0px !important;\n      text-decoration: none !important;\n      position: relative;\n    }\n  }\n\n  .RIL_VIDEO {\n    width: 110%;\n    margin: 0 -5% 1.5em;\n  }\n\n  table.ril_dataTable,\n  table.ril_layoutTable {\n    border-collapse: collapse;\n    width: 100%;\n    margin: 20px 0;\n  }\n  table.ril_dataTable td,\n  table.ril_layoutTable td {\n    width: auto;\n    text-align: left;\n    padding: 0;\n    background: none;\n    border: 0;\n  }\n\n  .ril_layoutTable td,\n  .ril_layoutTable tr,\n  .ril_layoutTable th {\n    display: block;\n  }\n\n  table.ril_dataTable {\n    margin: 1.5em 0;\n  }\n  table.ril_dataTable th {\n    font-weight: 600;\n    border: 0;\n    padding: 0 5px 0.3em !important;\n    border-bottom: 2px solid ",";\n    text-align: left;\n  }\n  table.ril_dataTable td {\n    border: 0;\n    border-bottom: 1px solid ",";\n    padding: 0.3em 5px !important;\n    vertical-align: top;\n    font-size: 0.8em;\n  }\n"]);return sn=function(){return e},e}var ln=Object(v.a)("div")(sn(),function(e){return Object(Vt.b)(on(),e.theme.body.selection.background,e.theme.body.selection.color,e.theme.body.selection.background,e.theme.body.selection.color,e.theme.body.highlight.background,e.theme.body.highlight.color,e.theme.body.highlight.background,e.theme.body.highlight.background,e.theme.body.highlight.background,e.theme.body.highlight.background,e.theme.body.highlight.color,e.theme.body.highlight.color,e.theme.annotations.preview,e.theme.body.highlight.color,e.theme.annotations.preview,e.theme.annotations.preview,e.theme.annotations.preview,e.theme.annotations.preview,e.theme.body.highlight.color,e.theme.body.highlight.color)},function(e){return e.theme.body.pre},function(e){return e.theme.body.color},function(e){return e.theme.body.background},function(e){return e.theme.body.background},function(e){return e.theme.body.background},function(e){return e.theme.body.background},function(e){return e.theme.body.color},function(e){return e.theme.body.color},function(e){return e.theme.body.link},function(e){return e.theme.body.link},function(e){return e.theme.body.link},function(e){return e.theme.body.border},function(e){return e.theme.article.subHeader},function(e){return e.theme.body.border},function(e){return e.theme.body.border}),un=n(31);function pn(){var e=Object(b.a)(["\n  display: inline-block;\n  margin-right: 6px;\n"]);return pn=function(){return e},e}function hn(){var e=Object(b.a)(["\n  ",";\n  font-family: ",";\n  padding: 13px 15px 15px;\n  cursor: pointer;\n  margin: 0;\n  &:hover {\n    color: ",";\n  }\n"]);return hn=function(){return e},e}function dn(){var e=Object(b.a)(["\n  ","\n  background-color: ",";\n  position: relative;\n  top: -60px;\n  transform: translateX(-50%);\n  font-family: ",";\n  font-size: 16px;\n  font-weight: 500;\n  &:before {\n    content: '';\n    position: absolute;\n    bottom: -8px;\n    left: 50%;\n    width: 0;\n    height: 0;\n    transform: translateX(-50%);\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 8px solid\n      ",";\n  }\n"]);return dn=function(){return e},e}function mn(){var e=Object(b.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  transform: translate(","px, ","px);\n"]);return mn=function(){return e},e}var fn=E.a.VIEW,gn=E.a.UI,bn=Object(v.a)("div")(mn(),function(e){return e.left},function(e){return e.top}),vn=Object(v.a)("div")(dn(),Ue.a,function(e){return e.theme.selectionPopover.background},E.h.sans.family,function(e){return e.hideArrow?"transparent":e.theme.selectionPopover.background}),On=Object(v.a)("button")(hn(),y.d,E.h.sans.family,function(e){return e.theme.menu.hover.color}),jn=Object(v.a)("span")(pn()),xn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).onHighlight=function(){n.props.addAnnotation({item_id:n.props.item_id,quote:n.props.textSelection,patch:n.props.requestPatch(n.props.anchor),analytics:Object(r.a)({},fn,"reader")}),n.props.disablePopup()},n.onShare=function(e){n.props.shareItem(Object(i.a)({item_id:n.props.item_id,recommend:e,recent_friends:n.props.recent_friends,quote:n.props.textSelection},n.props.item)),n.props.disablePopup()},n.onSocialShare=function(e){var t;n.props.socialShare({item_id:n.props.item_id,analytics:(t={},Object(r.a)(t,fn,"reader"),Object(r.a)(t,gn,"selection"),t),service:e})},n.toggleShare=function(){n.setState({share:!0})},n.isClickOutside=function(e){0===e.button&&(n.containerRef.current&&n.containerRef.current.contains(e.target)||n.props.disablePopup())},n.state={share:!1},n.containerRef=p.a.createRef(),n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.isClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.isClickOutside)}},{key:"render",value:function(){var e=this.props.anchor;if(!e||0===e.rangeCount)return null;var t=e.getRangeAt(0).getBoundingClientRect(),n=t.right,i=t.left,r=t.top,a=(n-i)/2+i;return p.a.createElement(bn,{left:Math.round(a),top:Math.round(r)},p.a.createElement(vn,{ref:this.containerRef,hideArrow:this.state.share},this.state.share?this.shareMenu:this.defaultMenu))}},{key:"shareMenu",get:function(){return p.a.createElement(R.a,{url:this.props.item.resolved_url,item_id:this.props.item_id,isPremium:this.props.isPremium,shareItem:this.onShare,socialShare:this.onSocialShare,quote:this.props.textSelection})}},{key:"defaultMenu",get:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(On,{onClick:this.onHighlight},p.a.createElement(jn,null,p.a.createElement(V.a,{name:"Highlights",type:"mini",size:"16px"})),p.a.createElement(k.b,{id:"shareExcerpt.highlight"},"Highlight")),p.a.createElement(On,{onClick:this.toggleShare},p.a.createElement(jn,null,p.a.createElement(V.a,{name:"IOSShare",type:"mini",size:"16px"})),p.a.createElement(k.b,{id:"shareExcerpt.shareExcerpt"},"Share")))}}]),t}(u.Component),yn=Object(k.d)(xn),En=n(583),kn=n.n(En);function wn(e,t,n){!function(e,t,n,i){var r=document;"string"===typeof e&&(e=r.getElementById(e));for(var a,o,c,s,l,u,p,h,d,m,f,g,b,v,O,j,x,y,E,k,w,S,_=[],C=[],A=0,z=e.childNodes.length,T=0,I=[];;){for(;A<z;)if(3===(o=e.childNodes[A++]).nodeType)_.push({i:T,n:o}),a=o.nodeValue,C.push(a),T+=a.length;else if(1===o.nodeType){if(o.tagName.search(/^(script|style)$/i)>=0)continue;o.tagName.search(/^(a|b|basefont|bdo|big|em|font|i|s|small|span|strike|strong|su[bp]|tt|u)$/i)<0&&(C.push(" "),T++),(c=o.childNodes.length)&&(I.push({n:e,l:z,i:A}),e=o,z=c,A=0)}if(!I.length)break;s=I.pop(),e=s.n,z=s.l,A=s.i}if(!_.length)return;if(C=C.join(""),_.push({i:C.length}),2===n.version){var H=new kn.a,P=H.patch_apply(H.patch_fromText(n.patch),C);if(!P[1][0])return;var M=new RegExp("<pkt_tag_annotation>([\\s\\S]*)</pkt_tag_annotation>");u=M.exec(P[0]),p=1}else if(u=function(e){return new RegExp(e.replace(/[.*+?|()[\]{}\\$^]/g,"\\$&").replace(/\s+/g,"\\s+"),"ig")}(n.quote).exec(C),p=0,!u)return;for(h=u.index,l=1;l<p;l++)h+=u[l].length;d=h+u[p].length,f=0,g=_.length;for(;f<g;)h<_[m=f+g>>1].i?g=m:f=h>=_[m+1].i?m+1:g=m;b=f;for(;b<_.length;){if(v=_[b],e=v.n,a=e.nodeValue,O=e.parentNode,j=e.nextSibling,y=h-v.i,E=Math.min(d,_[b+1].i)-v.i,k=null,y>0&&(k=a.substring(0,y)),w=a.substring(y,E),S=null,E<a.length&&(S=a.substr(E)),k?e.nodeValue=k:O.removeChild(e),(x=r.createElement("span")).setAttribute("annotation_id",n.annotation_id),x.appendChild(r.createTextNode(w)),x.className=t,O.insertBefore(x,j),"undefined"!==typeof i)try{x.addEventListener("mouseover",i,!1),x.addEventListener("mouseout",i,!1),x.addEventListener("touchstart",i,!1)}catch(L){console.log(L)}if(S&&(x=r.createTextNode(S),O.insertBefore(x,j),_[b]={n:x,i:d}),d<=_[++b].i)return}}(n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"highlight",e,t)}function Sn(e,t){if(!e)return!1;if(1===e.nodeType){if(e.getAttribute("class")===t){var n=e.removeChild(e.firstChild);return e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),!0}for(var i=!1,r=e.childNodes.length,a=0;a<r;a++)Sn(e.childNodes[a],t)&&(i=!0);i&&e.normalize()}return!1}function _n(e){var t=new Range;t.selectNodeContents(document.body);var n=e.getRangeAt(0),i=new Range;i.setStart(t.startContainer,t.startOffset),i.setEnd(n.startContainer,n.startOffset);var r=new Range;r.setStart(n.endContainer,n.endOffset),r.setEnd(t.endContainer,t.endOffset);var a=i.toString()+n.toString()+r.toString(),o=i.toString()+"<pkt_tag_annotation>"+n.toString()+"</pkt_tag_annotation>"+r.toString(),c=new kn.a;return c.patch_toText(c.patch_make(a,o))}function Cn(){var e=Object(b.a)(["\n  padding: 0 40px;\n  position: relative;\n"]);return Cn=function(){return e},e}var An=Object(v.a)("div")(Cn()),zn=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={scrollList:{},textHighlighted:!1},n.toggleHighlight=function(){var e=window.getSelection(),t=e.toString();t?(n.setState({textHighlighted:e}),n.props.onTextHighlight(t)):n.state.textHighlighted&&(n.setState({textHighlighted:!1}),n.props.onTextHighlight(""))},n.clearSelection=function(){window.getSelection().removeAllRanges(),n.toggleHighlight()},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.images;e&&It(e)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.videos;t&&Dt(t);var n=Object(ze.h)("nodeindex");this.setState({scrollList:n}),this.checkScrollPosition(this.props.positions,n),this.props.item_content&&this.externalizeLinks(),this.props.annotations&&setTimeout(function(){return e.props.highlightAnnotations(e.contentNode)},300)}},{key:"componentDidUpdate",value:function(e){this.props.scrollValue!==e.scrollValue&&this.checkPositioning(this.props.scrollValue),this.props.item_content!==e.item_content&&this.externalizeLinks(),this.props.annotations.length!==e.annotations.length&&this.props.highlightAnnotations(this.contentNode)}},{key:"externalizeLinks",value:function(){this.contentNode.querySelectorAll("a[nodeindex]").forEach(function(e){e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")})}},{key:"checkScrollPosition",value:function(e,t){try{if(e&&e[1]&&t){var n=Object.keys(t).find(function(n){return t[n]===e[1].node_index})||0;window.scrollTo(0,n)}}catch(i){un.b(i)}}},{key:"checkPositioning",value:function(e){var t=Object.keys(this.state.scrollList),n=e-t.reduce(function(t,n){return e>=n?Math.min(e-n,t):t},1e100);this.state.scrollList[n]&&this.state.scrollList[n]!==this.state.curNode&&(this.setState({curNode:this.state.scrollList[n]}),this.props.saveItemPosition({item_id:this.props.item_id,view:1,node_index:this.state.scrollList[n],time:Math.round(Date.now()/1e3)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.item_content,i=t.fontSize,r=t.fontType,a=t.textSelection,o=t.shareItem,c=t.socialShare,s=t.addAnnotation,l=t.item_id,u=t.recent_friends,h=t.item,d=t.isPremium;return p.a.createElement(An,{onMouseUp:this.toggleHighlight},p.a.createElement(ln,{ref:function(t){return e.contentNode=t},dangerouslySetInnerHTML:{__html:n},fontSize:i,fontType:r,role:"main"}),this.state.textHighlighted&&p.a.createElement(yn,{anchor:this.state.textHighlighted,disablePopup:this.clearSelection,shareItem:o,socialShare:c,addAnnotation:s,requestPatch:_n,textSelection:a,item_id:l,recent_friends:u,item:h,isPremium:d}))}}]),t}(u.Component);function Tn(){var e=Object(b.a)(["\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  width: 350px;\n  background-color: transparent;\n  box-shadow: none;\n  border-right: 1px solid transparent;\n  transition: all 150ms ease-in-out;\n  &:hover,\n  &.visible {\n    background-color: ",";\n    box-shadow: none;\n    border-right: 1px solid ",";\n  }\n"]);return Tn=function(){return e},e}var In=Object(v.a)("div")(Tn(),function(e){return e.theme.annotations.gutter},function(e){return e.theme.annotations.border}),Hn=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.clickAction,i=t?"visible":"";return p.a.createElement(In,{className:"rail-wrapper ".concat(i),onClick:n},this.props.children)}}]),t}(u.Component),Pn=n(38),Mn=n.n(Pn);function Ln(){var e=Object(b.a)(["\n  font-family: ",";\n  line-height: 16px;\n  font-size: 12px;\n  color: ",";\n  margin: 24px 0 0;\n"]);return Ln=function(){return e},e}function Rn(){var e=Object(b.a)(["\n  line-height: 25px;\n  font-size: 18px;\n  margin: 0;\n  cursor: pointer;\n"]);return Rn=function(){return e},e}function Nn(){var e=Object(b.a)(["\n  font-family: ",";\n  position: relative;\n  margin: 10px 20px;\n  padding: 20px;\n  border-top: 4px solid ",";\n  border-radius: 4px;\n  transform: translateY(","px);\n  background-color: ",";\n  &.arrow:before {\n    content: '';\n    position: absolute;\n    top: ","px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-bottom: 8px solid transparent;\n    border-right: 8px solid ",";\n    border-top: 8px solid transparent;\n    filter: drop-shadow(-6px 0 4px rgba(0, 0, 0, 0.12));\n  }\n  ","\n"]);return Nn=function(){return e},e}var Fn=Object(v.a)("div")(Nn(),E.h.serif.family,function(e){return e.theme.annotations.bright},function(e){return e.topAdj},function(e){return e.theme.sharesheet.background},function(e){return Math.abs(e.topAdj)+10},function(e){return e.theme.sharesheet.background},function(e){return e.addedStyles}),Dn=Object(v.a)("p")(Rn()),Vn=Object(v.a)("p")(Ln(),E.h.sans.family,function(e){return e.theme.annotations.metaColor}),Wn=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"getValue",value:function(e){if(!e)return p.a.createElement(k.b,{id:"time.now"},"Just now");var t=Mn()(),n=Mn()(e),i=t.diff(n,"day");if(i<1)return p.a.createElement(k.b,{id:"time.addedtoday"},"Added Today");if(1===i){var r=i;return p.a.createElement(k.b,{id:"time.addeddayago",data:{date:r}},"Added $",r," day ago")}if(i<7){var a=i;return p.a.createElement(k.b,{id:"time.addeddaysago",data:{date:a}},"Added $",a," days ago")}var o=n.format("MMM D, YYYY");return p.a.createElement(k.b,{id:"time.added",data:{date:o}},"Added $",o)}},{key:"render",value:function(){var e=this.props.children;return p.a.createElement(Vn,null,this.getValue(e))}}]),t}(u.Component),Bn=Object(k.d)(Wn),qn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={topAdj:0},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.contentNode){var e=window.innerHeight||document.documentElement.clientHeight,t=this.contentNode.getBoundingClientRect(),n=t.top,i=t.bottom,r=n<63?Math.abs(63-n):i>e?-Math.abs(i-e):0;this.setState({topAdj:r})}}},{key:"render",value:function(){var e=this,t=this.props.arrow?"arrow":"";return p.a.createElement(Fn,{className:t,topAdj:this.state.topAdj,ref:function(t){return e.contentNode=t},addedStyles:this.props.addedStyles},this.props.children)}}]),t}(u.Component);function Un(){var e=Object(b.a)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  z-index: 1;\n  font-size: ","px;\n  display: block;\n  cursor: pointer;\n  text-align: center;\n  &:hover {\n    color: ",";\n  }\n"]);return Un=function(){return e},e}function Yn(){var e=Object(b.a)(["\n  width: 230px;\n  position: relative;\n  box-shadow: ",";\n  background-color: #116A65;\n  color: #FFF;\n  font-size: 14px;\n  line-height: 20px;\n  padding: 20px 45px 20px 20px;\n  border-radius: 4px;\n  transform: translateY(","px);\n  &:before {\n    content: '';\n    position: absolute;\n    top: ","px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-bottom: 8px solid transparent;\n    border-right: 8px solid #116A65;\n    border-top: 8px solid transparent;\n  }\n"]);return Yn=function(){return e},e}var Xn=Object(v.a)("div")(Yn(),function(e){return e.theme.overlay.shadow},function(e){return e.topAdj},function(e){return Math.abs(e.topAdj)+25}),Gn=Object(v.a)("div")(Un(),function(e){return e.size?e.size:16},function(e){return e.theme.body.link.color}),$n=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={topAdj:0},n.closeModal=function(e){e.stopPropagation(),n.props.clickEvent(!1)},n.clickEvent=function(){n.props.clickEvent(!0)},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.contentNode){var e=window.innerHeight||document.documentElement.clientHeight,t=this.contentNode.getBoundingClientRect(),n=t.top,i=t.bottom,r=n<63?Math.abs(63-n):i>e?-Math.abs(i-e):0;this.setState({topAdj:r})}}},{key:"render",value:function(){var e=this;return p.a.createElement(ci,{className:"show",onClick:this.clickEvent},p.a.createElement(Xn,{topAdj:this.state.topAdj,ref:function(t){return e.contentNode=t}},p.a.createElement(Gn,{onClick:this.closeModal},p.a.createElement(V.a,{name:"CloseX",size:"13px",type:"mini"})),p.a.createElement(k.b,{id:"highlightLimit.first"},"You created your first highlight. Click here to see it alongside other highlights you create in this article.")))}}]),t}(u.Component),Jn=Object(k.d)($n);function Kn(){var e=Object(b.a)(["\n  box-shadow: ",";\n"]);return Kn=function(){return e},e}function Qn(){var e=Object(b.a)(["\n  ",";\n  height: 24px;\n  cursor: pointer;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"]);return Qn=function(){return e},e}function Zn(){var e=Object(b.a)(["\n  position: absolute;\n  bottom: 15px;\n  right: 20px;\n"]);return Zn=function(){return e},e}function ei(){var e=Object(b.a)(["\n  padding: 0 20px;\n  position: absolute;\n  transition: transform 150ms ease-in-out,\n    opacity 125ms ease-in-out 0ms;\n  transform: translate(250px, -30px);\n  pointer-events: none;\n  opacity: 0;\n  &.show {\n    transform: translate(350px, -30px);\n    opacity: 1;\n    pointer-events: auto;\n    transition: transform 150ms ease-in-out,\n      opacity 100ms ease-in-out 50ms;\n  }\n"]);return ei=function(){return e},e}function ti(){var e=Object(b.a)(["\n  position: relative;\n  width: calc(100% - 6px);\n  height: 3px;\n  background-color: ",";\n  border-radius: 0 4px 4px 0;\n"]);return ti=function(){return e},e}function ni(){var e=Object(b.a)(["\n  position: absolute;\n  top: ","px;\n  left: 0;\n  padding: 3px 0;\n  width: 100%;\n  z-index: 100;\n  cursor: pointer;\n  transition: transform 0 ease-in-out;\n  &, &.loading {\n    transform: translate(-100px, 0);\n  }\n  &.active {\n    transition: transform 250ms ease-in-out;\n    transform: translate(5px, -2px);\n  }\n  &.loaded {\n    transition: transform 250ms ease-in-out;\n    transform: translate(0, 0);\n  }\n"]);return ni=function(){return e},e}function ii(){var e=Object(b.a)(["\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  width: 100%;\n  transform: translateX(-500px);\n  transition: transform 200ms ease-in-out;\n  &.visible {\n    transform: translateX(0);\n    transition-delay: 70ms;\n  }\n"]);return ii=function(){return e},e}var ri=Object(v.a)("div")(ii()),ai=Object(v.a)("div")(ni(),function(e){return e.top}),oi=Object(v.a)("div")(ti(),function(e){return e.theme.annotations.bright}),ci=Object(v.a)("div")(ei()),si=Object(v.a)("div")(Zn()),li=Object(v.a)("div")(Qn(),y.d,function(e){return e.theme.item.menu.trigger.color},function(e){return e.theme.item.menu.button.hover}),ui=function(e){return Object(Vt.b)(Kn(),e.theme.overlay.shadow)},pi=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.annotation;return e?p.a.createElement(qn,{addedStyles:ui,arrow:!0},p.a.createElement(Dn,null,e.quote),p.a.createElement(Bn,null,e.created_at),p.a.createElement(si,null,p.a.createElement(an,{annotation_id:e.annotation_id,deleteAnnotation:this.props.deleteAnnotation,item_id:this.props.item_id,item:this.props.item,shareItem:this.props.shareItem,socialShare:this.props.socialShare,annotation:e},p.a.createElement(li,null,p.a.createElement(V.a,{name:"IOSOverflow"}))))):null}}]),t}(u.Component),hi=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).itemHoverOn=function(){n.props.disabled||n.setState({hover:!0})},n.itemHoverOff=function(){n.closeMenu()},n.closeMenu=function(){n.state.hover&&n.setState({hover:!1,share:!1})},n.onItemClick=function(e){e.stopPropagation(),n.props.onClickEvent(n.props.yCoord)},n.state={hover:!1,loading:e.new},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.state.loading&&this.setState({loading:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.disabled!==this.props.disabled&&e.disabled&&this.closeMenu(),e.new!==this.props.new&&e.new&&(this.setState({loading:!0}),setTimeout(function(){return t.setState({loading:!1})},1))}},{key:"render",value:function(){var e=this.props,t=e.annotation,n=e.yCoord,i=e.top,r=e.viewPort,a=e.shareItem,o=e.socialShare,c=e.deleteAnnotation,s=e.item_id,l=e.item,u=n>r.top&&n<r.bottom,h=u?"active":"loaded",d=this.state.loading?"loading":h,m=this.state.hover?"show":"";return p.a.createElement(ai,{top:i,onMouseEnter:this.itemHoverOn,onMouseLeave:this.itemHoverOff,onClick:this.onItemClick,className:d},p.a.createElement(oi,null,p.a.createElement(ci,{className:m},p.a.createElement(pi,{annotation:t,active:u,shareItem:a,socialShare:o,deleteAnnotation:c,item_id:s,item:l})),this.props.children))}}]),t}(u.Component),di=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).renderTics=function(){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-93,t=n.props,i=t.annotationList,r=t.onClickEvent,a=t.viewPort,o=t.annotations,c=t.shareItem,s=t.socialShare,l=t.deleteAnnotation,u=t.item_id,h=t.item,d=t.docHeight,m=t.visible,f=t.firstTime,g=t.firstTimeEngaged,b=[],v=f;return Object.keys(i).forEach(function(t,n){var O=t/d,j=Math.round(O*e)+15;b.push(p.a.createElement(hi,{key:n,yCoord:t,annotation_id:i[t].id,top:j,annotation:o.filter(function(e){return e.annotation_id===i[t].id})[0],onClickEvent:r,viewPort:a,shareItem:c,socialShare:s,deleteAnnotation:l,item_id:u,item:h,disabled:!m||f,new:i[t].new},v&&p.a.createElement(Jn,{clickEvent:g}))),v=!1}),b},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.visible?"visible":"";return p.a.createElement(ri,{className:e},this.renderTics())}}]),t}(u.Component);function mi(){var e=Object(b.a)(["\n  font-size: 16px;\n  line-height: 22px;\n  color: #1A1A1A;\n  font-weight: 500;\n  padding: 25px 0 2px 25px;\n"]);return mi=function(){return e},e}function fi(){var e=Object(b.a)(["\n  transition: box-shadow 150ms ease-in-out;\n  box-shadow: 0 0 0 1px ",";\n  &.active {\n    box-shadow: 0 0 0 1px ",";\n  }\n"]);return fi=function(){return e},e}function gi(){var e=Object(b.a)(["\n  ",";\n  height: 24px;\n  cursor: pointer;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"]);return gi=function(){return e},e}function bi(){var e=Object(b.a)(["\n  position: absolute;\n  bottom: 15px;\n  right: 20px;\n"]);return bi=function(){return e},e}function vi(){var e=Object(b.a)(["\n  height: 100%;\n  overflow: auto;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  transform: translateX(-500px);\n  transition: transform 150ms ease-in-out;\n  &.visible {\n    transform: translateX(0);\n  }\n"]);return vi=function(){return e},e}var Oi=Object(v.a)("div")(vi()),ji=Object(v.a)("div")(bi()),xi=Object(v.a)("div")(gi(),y.d,function(e){return e.theme.item.menu.trigger.color},function(e){return e.theme.item.menu.button.hover}),yi=function(e){return Object(Vt.b)(fi(),e.theme.annotations.border,e.theme.annotations.borderActive)},Ei=Object(v.a)("div")(mi()),ki=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).renderCards=function(){var e=n.props,t=e.annotations,r=e.annotationList,a=e.viewPort,o=[];return t.map(function(e){var t;return Object.keys(r).forEach(function(n){e.annotation_id===r[n].id&&(t=n)}),Object(i.a)({},e,{coordY:t})}).sort(function(e,t){return e.coordY-t.coordY}).forEach(function(e){var t=e.coordY>a.top&&e.coordY<a.bottom?"active":"";o.push(p.a.createElement(Fn,{onClick:function(e){return e.stopPropagation()},key:e.annotation_id,addedStyles:yi,className:t},p.a.createElement(Dn,{onClick:function(){return n.props.onClickEvent(e.coordY)}},e.quote),p.a.createElement(Bn,null,e.created_at),p.a.createElement(ji,null,p.a.createElement(an,{annotation_id:e.annotation_id,deleteAnnotation:n.props.deleteAnnotation,item_id:n.props.item_id,item:n.props.item,shareItem:n.props.shareItem,socialShare:n.props.socialShare,annotation:e},p.a.createElement(xi,null,p.a.createElement(V.a,{name:"IOSOverflow"}))))))}),o},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.visible?"visible":"";return this.props.annotationList?p.a.createElement(Oi,{className:e},this.props.heading&&p.a.createElement(Ei,null,this.props.heading),this.renderCards()):null}}]),t}(u.Component);function wi(){var e=Object(b.a)(["\n  position: absolute;\n  top: 20px;\n  right: 30px;\n  z-index: 1;\n  font-size: ","px;\n  display: block;\n  cursor: pointer;\n  text-align: center;\n  &:hover {\n    color: ",";\n  }\n"]);return wi=function(){return e},e}function Si(){var e=Object(b.a)(["\n  font-size: 16px;\n  line-height: 25px;\n  text-align: center;\n  display: none;\n"]);return Si=function(){return e},e}function _i(){var e=Object(b.a)(["\n  font-size: 16px;\n  line-height: 25px;\n  margin-bottom: 25px;\n"]);return _i=function(){return e},e}function Ci(){var e=Object(b.a)(["\n  font-size: 20px;\n  line-height: 26px;\n  font-weight: 500;\n  margin-bottom: 0;\n"]);return Ci=function(){return e},e}function Ai(){var e=Object(b.a)(["\n  width: 260px;\n  border-top-color: "," !important;\n  box-shadow: ",";\n"]);return Ai=function(){return e},e}function zi(){var e=Object(b.a)(["\n  position: absolute;\n  transform: translate(50px, -30px);\n"]);return zi=function(){return e},e}function Ti(){var e=Object(b.a)(["\n  position: relative;\n  width: calc(100% - 6px);\n  height: 3px;\n  background-color: ",";\n  border-radius: 0 4px 4px 0;\n"]);return Ti=function(){return e},e}function Ii(){var e=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  transform: translateY(","px);\n  left: 0;\n  padding: 3px 0;\n  width: 40px;\n  z-index: 100;\n  cursor: pointer;\n  opacity: 1;\n  transition: opacity 200ms ease-in-out;\n  &.loading {\n    opacity: 0;\n  }\n"]);return Ii=function(){return e},e}var Hi=Object(v.a)("div")(Ii(),function(e){return e.top}),Pi=Object(v.a)("div")(Ti(),function(e){return e.theme.annotations.active}),Mi=Object(v.a)("div")(zi()),Li=function(e){return Object(Vt.b)(Ai(),e.theme.settings.premium.color,e.theme.overlay.shadow)},Ri=Object(v.a)("h4")(Ci()),Ni=Object(v.a)("p")(_i()),Fi=Object(v.a)("p")(Si()),Di=Object(v.a)("div")(wi(),function(e){return e.size?e.size:16},function(e){return e.theme.body.link.color}),Vi=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleKeyStroke=function(e){e.keyCode===E.k.ESCAPE&&n.props.closeModal()},n.state={loading:!0},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1}),window.addEventListener("keydown",this.handleKeyStroke)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyStroke)}},{key:"render",value:function(){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-93,t=document.getElementsByClassName("highlight-preview")[0];if(!t)return null;var n=Math.round(t.getBoundingClientRect().top+window.pageYOffset)/this.props.docHeight,i=Math.round(n*e)+63,r=this.state.loading?"loading":"";return p.a.createElement(Hi,{top:i,className:r},p.a.createElement(Pi,null,p.a.createElement(Mi,null,p.a.createElement(qn,{addedStyles:Li},p.a.createElement(Di,{onClick:this.props.closeModal},p.a.createElement(V.a,{name:"CloseX",size:"16px",type:"mini"})),p.a.createElement(Ri,null,p.a.createElement(k.b,{id:"highlightLimit.header",data:{MAX_ANNOTATIONS_DEFAULT:E.r}},"You\u2019re currently limited to ",E.r," ","highlights per article.")),p.a.createElement(Ni,null,p.a.createElement(k.b,{id:"highlightLimit.subheader"},"Get unlimited highlights for all your articles and much more by upgrading to Pocket Premium today.")),p.a.createElement(y.b,{href:"".concat(E.v).concat(E.t.ANNOTATIONS),target:"_blank",type:"cta"},p.a.createElement(k.b,{id:"highlightLimit.cta"},"Get Premium")),p.a.createElement(Fi,{onClick:this.props.closeModal},p.a.createElement(k.b,{id:"highlightLimit.dismiss"},"Maybe Later"))))))}}]),t}(u.Component),Wi=Object(k.d)(Vi);function Bi(){var e=Object(b.a)(["\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  bottom: 0;\n  top: 63px;\n  height: calc(100% - 63px);\n  width: 400px;\n  background-color: transparent;\n  transition: transform 150ms ease-in-out;\n  ","\n  &.first-time {\n    z-index: ",";\n  }\n  &.expand {\n    z-index: ",";\n    transform: translateX(-0px);\n  }\n  &:hover .slide-toggle,\n  &.expand .slide-toggle {\n    ","\n  }\n  &:hover .rail-wrapper {\n    background-color: ",";\n    box-shadow: 2px 0px 4px 0px rgba(0, 0, 0, 0.12);\n    border-right: 1px solid ",";\n  }\n"]);return Bi=function(){return e},e}function qi(){var e=Object(b.a)(["\n  width: 0;\n  transition: width 150ms ease-in-out;\n  &.expand {\n    ","\n  }\n"]);return qi=function(){return e},e}function Ui(){var e=Object(b.a)(["\n  position: fixed;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 0;\n  opacity: 0;\n  transition: opacity 150ms ease-in-out;\n  z-index: 1;\n"]);return Ui=function(){return e},e}function Yi(){var e=Object(b.a)(["\n  display: flex;\n"]);return Yi=function(){return e},e}var Xi=Object(Ye.a)(E.d.map(function(e){return"@media (min-width: ".concat(e,"px)")})),Gi=Object(v.a)("div")(Yi()),$i=Object(v.a)("div")(Ui()),Ji=Object(v.a)("div")(qi(),Xi({width:["0","0","400px"]})),Ki=Object(v.a)("div")(Bi(),Xi({transform:["translateX(-325px)","translateX(-315px)","translateX(-315px)"]}),E.A.item.menu+1,E.A.item.menu+1,Xi({opacity:["0","1"]}),function(e){return e.theme.annotations.gutter},function(e){return e.theme.annotations.gutterActive});function Qi(){var e=Object(b.a)(["\n  max-width: ",";\n  margin: 0 auto;\n  padding: 120px 0;\n  font-size: ","px;\n  font-family: ",";\n  line-height: ",";\n\n  header {\n    font-family: 'Graphik Web';\n    font-size: ","px;\n  }\n  #RIL_body {\n    font-size: ",";\n  }\n"]);return Qi=function(){return e},e}var Zi=Object(v.a)("div")(Qi(),function(e){return e.maxWidth},function(e){return e.fontSize},function(e){return e.fontFamily},function(e){return e.lineHeight},function(e){return e.fontSize},function(e){return e.fontTypeSize}),er=function(e){var t=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(c.a)(this,Object(s.a)(n).call(this,e))).checkDocHeight=function(){var e=document.body,n=document.documentElement,i=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);i!==t.state.docHeight&&(t.updateHighlightList(),t.setState({docHeight:i}))},t.annotationLimitReached=function(e){var n=e.quote,i=e.patch;t.setState({limitReached:e}),wn({quote:n,patch:i},null,document.body,"highlight-preview")},t.clearAnnotationLimit=function(){t.setState({limitReached:!1}),Sn(document.body,"highlight-preview")},t.addAnnotationPreFlight=function(e){var n=t.props.item.annotations;(void 0===n?[]:n).length>=E.r&&!t.props.isPremium?t.annotationLimitReached(e):t.props.addAnnotation(e)},t.updateHighlightList=function(){var e=Object.keys(t.state.annotationList).map(function(e){return t.state.annotationList[e].id}),n=Object(ze.h)("annotation_id"),i={};Object.keys(n).forEach(function(e){("undefined"==typeof i[n[e]]||i[n[e]]>e)&&(i[n[e]]=e)});var r={};Object.keys(i).forEach(function(t){return r[i[t]]={id:t,new:!e.includes(t)}});var a=r;t.setState({annotationList:a})},t.highlightAnnotations=function(e){Sn(document.body,"highlight");var n=t.props.item.annotations;(void 0===n?[]:n).forEach(function(n){wn(n,t.toggleAnnotationHover,e)}),t.updateHighlightList()},t.toggleAnnotationHover=function(e){t.state.annotationHovered?t.setState({annotationHovered:!1}):t.setState({annotationHovered:{id:e.target.getAttribute("annotation_id"),event:e}})},t.toggleRail=function(){t.setState({expandRail:!t.state.expandRail})},t.scrollToAnnotation=function(e){window.scrollTo(0,e-100)},t.firstTimeEngaged=function(e){clearTimeout(t.firstTimeTimeout),t.setState({firstTime:!1}),e&&t.toggleRail()},t.state={firstTime:!1,annotationList:{},annotationHovered:!1,expandRail:!1,limitReached:!1,docHeight:null,viewPort:{top:0,bottom:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},t}return Object(l.a)(n,t),Object(o.a)(n,[{key:"componentDidMount",value:function(){this.checkDocHeight()}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.isPremium!==e.isPremium&&this.props.isPremium&&this.state.limitReached&&(this.props.addAnnotation(this.state.limitReached),this.clearAnnotationLimit()),this.props.scrollValue!==e.scrollValue){var n={top:this.props.scrollValue,bottom:this.props.scrollValue+Math.max(document.documentElement.clientHeight,window.innerHeight||0)};this.setState({viewPort:n})}this.props.options.activeHighlight!==e.options.activeHighlight&&(this.firstTimeTimeout=setTimeout(function(){return t.firstTimeEngaged(!1)},6e3),this.setState({firstTime:!0})),this.checkDocHeight()}},{key:"componentWillUnmount",value:function(){this.firstTimeTimeout&&clearTimeout(this.firstTimeTimeout)}},{key:"render",value:function(){var t=this.props,n=t.item,i=t.item,r=i.item_id,a=i.annotations,o=void 0===a?[]:a,c=t.isPremium,s=t.shareItem,l=t.socialShare,u=t.deleteAnnotation,h=t.translate,d=this.state,m=d.expandRail,f=d.annotationList,g=d.annotationHovered,b=d.viewPort,v=d.docHeight,O=d.limitReached,j=d.firstTime,x=j?"first-time":m?"expand":"";return p.a.createElement(Gi,null,o.length>0&&p.a.createElement(p.a.Fragment,null,p.a.createElement(Ji,{className:m?"expand":""}),p.a.createElement(Ki,{className:x,onClick:m?this.toggleRail:null},p.a.createElement(Hn,{visible:m,clickAction:m?null:this.toggleRail},p.a.createElement(ki,{annotations:o,annotationList:f,item_id:r,item:n,shareItem:s,socialShare:l,deleteAnnotation:u,onClickEvent:this.scrollToAnnotation,viewPort:b,heading:h("annotations.listHeading"),visible:m}),p.a.createElement(di,{hide:m,annotations:o,annotationList:f,onClickEvent:this.scrollToAnnotation,viewPort:b,item_id:r,item:n,shareItem:s,socialShare:l,deleteAnnotation:u,visible:!m,docHeight:v,firstTime:j,firstTimeEngaged:this.firstTimeEngaged})),p.a.createElement($i,{className:"slide-toggle"},p.a.createElement(y.c,{type:"neutral",onClick:this.toggleRail,"data-tooltip":h("annotations.tooltip")},p.a.createElement(V.a,{name:m?"BackChevron":"ForwardChevron",type:"line"})))),O&&p.a.createElement(Wi,{closeModal:this.clearAnnotationLimit,docHeight:v})),p.a.createElement(e,Object.assign({},this.props,{highlightAnnotations:this.highlightAnnotations,addAnnotation:this.addAnnotationPreFlight})),p.a.createElement(cn,{item_id:r,item:n,shareItem:s,socialShare:l,annotations:o,annotationList:f,annotationHovered:g,deleteAnnotation:u,isPremium:c}))}}]),n}(u.Component);return Object(k.d)(t)}(function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).onTextHighlight=function(e){return n.setState({selection:e})},n.state={selection:""},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.item,i=n.item_id,r=n.item_content,a=n.images,o=n.videos,c=n.positions,s=n.annotations,l=void 0===s?[]:s,u=e.options,h=u.fontSize,d=u.fontType,m=u.margin,f=u.lineHeight,g=e.isPremium,b=e.scrollValue,v=e.saveItemPosition,O=e.shareItem,j=e.socialShare,x=e.addAnnotation,y=Object(nt.a)(e,["item","item","options","isPremium","scrollValue","saveItemPosition","shareItem","socialShare","addAnnotation"]),k=E.z[h],w=E.j[d].family,S=E.j[d].size,_=E.i[h],C="".concat(k+m,"em");return p.a.createElement(Zi,{fontSize:_,fontFamily:w,fontType:d,fontTypeSize:S,maxWidth:C,lineHeight:E.l[f]},p.a.createElement(_t,{item:t,lineHeight:E.l[f]}),r?p.a.createElement(zn,Object.assign({item:t,item_id:i,images:a,videos:o,item_content:r,fontSize:h,fontFamily:w,fontType:d,lineHeight:f,scrollValue:b,positions:c,isPremium:g,onTextHighlight:this.onTextHighlight,textSelection:this.state.selection,saveItemPosition:v,shareItem:O,socialShare:j,addAnnotation:x,annotations:l},y)):null)}}]),t}(u.Component));function tr(){var e=Object(b.a)(["\n  width: 100%;\n  min-height: 100vh;\n  display: block;\n  background: ",";\n"]);return tr=function(){return e},e}var nr,ir=Object(v.a)("div")(tr(),function(e){return e.theme.article.background}),rr=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options.fontType,n=e.relatedTopics,i=e.scrollPercentage,r=e.isPremium,a=E.j[t],o=a.family,c=!r&&a.premium;return p.a.createElement(p.a.Fragment,null,c?p.a.createElement(et,{fontFamily:o}):null,p.a.createElement(qe,{item_id:this.props.item.item_id,scrollPercentage:i}),p.a.createElement(ir,null,p.a.createElement(tt.a,null,p.a.createElement(er,this.props)),p.a.createElement(I,{show:"u"===this.props.scrollDirection||100===this.props.scrollPercentage,list:n})))}}]),t}(u.Component),ar=(nr=rr,function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).update=function(){n.checking=!1;var e=n.getScrollPercent(),t=e.percent,i=e.value,r=t>=n.state.scrollPercentage?"d":"u";n.setState({scrollPercentage:t,scrollValue:i,scrollDirection:r})},n.handleScroll=function(){n.checking||requestAnimationFrame(n.update),n.checking=!0},n.checking=!1,n.state={scrollPercentage:0,scrollDirection:"d"},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"getScrollPercent",value:function(){var e=document.documentElement,t=document.body,n="scrollTop",i="scrollHeight",r=(e[n]||t[n])/((e[i]||t[i])-e.clientHeight)*100;return{percent:isFinite(r)?r:0,value:e[n]||t[n]}}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll,!!j.a.passiveEvents&&{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll,!!j.a.passiveEvents&&{passive:!0})}},{key:"componentWillMount",value:function(){this.update()}},{key:"render",value:function(){return p.a.createElement(nr,Object.assign({},this.props,{scrollPercentage:this.state.scrollPercentage,scrollValue:this.state.scrollValue,scrollDirection:this.state.scrollDirection}))}}]),t}(u.Component)),or=E.a.VIEW,cr=E.a.UI,sr=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={checked:!1,valid:!1},n.handleFocus=function(){n.props.readerViewFocused()},n.navigateToPage=function(){var e=n.props.item.given_url;n.props.externalLink({url:e,analytics:Object(r.a)({item_id:n.props.item_id},or,"reader")})},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("focus",this.handleFocus);var e=this.props.item_id;this.props.readerViewOpened({item_id:e}),this.checkArticleIsValid()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("focus",this.handleFocus),this.props.readerViewClosed()}},{key:"shouldComponentUpdate",value:function(e){return!(this.props.item&&!e.item)||(this.props.readerSetExitMethod(Object(r.a)({item_id:this.props.item_id},cr,"toolbar")),this.props.history.replace("/"),!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props.item;!this.state.checked&&t&&this.checkArticleIsValid(),this.checkStatusChange(e)}},{key:"checkStatusChange",value:function(e){e.status&&e.status!==this.props.status&&(this.props.readerSetExitMethod(Object(r.a)({item_id:this.props.item_id},cr,"toolbar")),this.props.history.push("/"))}},{key:"checkArticleIsValid",value:function(){var e=this.props.item;if(e){var t=e.is_article,n=e.has_video,i=e.has_image;if(!("1"===t||"2"===n||"2"===i))return this.navigateToPage();this.setState({checked:!0,valid:!0})}}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.relatedTopics,i=e.options,r=e.isPremium,a=e.saveItemPosition,o=e.shareItem,c=e.socialShare,s=e.addAnnotation,l=e.deleteAnnotation;return this.state.valid?p.a.createElement(ar,{relatedTopics:n,options:i,isPremium:r,item:t,saveItemPosition:a,shareItem:o,socialShare:c,addAnnotation:s,deleteAnnotation:l}):null}}]),t}(u.Component);t.default=Object(d.c)(function(e,t){var n=t.match.params.item_id;return{item_id:n,status:e.items[n]?e.items[n].status:null,isPremium:Object(ze.d)(e.app.isPremium),item:e.items[n],relatedTopics:e.reader.relatedTopics,options:e.options}},function(e){var t=f.a.saveItemPosition,n=f.a.shareItem,r=f.a.socialShare,a=f.a.addAnnotation,o=f.a.deleteAnnotation;return Object(h.b)(Object(i.a)({},m.a,{saveItemPosition:t,shareItem:n,socialShare:r,addAnnotation:a,deleteAnnotation:o},g.a),e)})(sr)}}]);
//# sourceMappingURL=7.cc2017bc.chunk.js.map